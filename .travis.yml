sudo: required
language: java
jdk:
- oraclejdk8
services:
- docker
script:
- gradle check
- curl -s https://raw.githubusercontent.com/EnMasseProject/travis-scripts/master/docker-build.sh
  | bash /dev/stdin enmasseproject/storage-controller storage-controller-server

after_success:
- curl -s https://raw.githubusercontent.com/EnMasseProject/travis-scripts/master/trigger-travis.sh
  | bash /dev/stdin
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: ntUuv5jnkn1JVZtS0ho6jAH4MGK2UPK4Sg0cU+NwsigRQG+4EnEeO/vgR49lt8pX3xeVd9s8jBE4JWNe/C+LbHFJhMukI4YkqmjSPXpPPbGB9/641wCwWidKQ/ACTyqU4GzuejeEeTj3tixbG0vkBJMBN9pPkPO4miBJKA5snOnCQfdUHu2KGEatCcLgHVsEiKyuHMdpg4MwDvNjh0AXshHJuOOds+aAFFKT9XZN1pgONuw63tn9aQID3bXkPOxrQuIwHrsrXNbtBIffe0gETyub1EKBbXLHv6ZhvoqwR1nkgmSXR7syC+chbTqr9h3usP2EMqLSC/Cz6bikFdYSMYxRwSOb2L7vKJtbi342BXQ3ciKLYg+EVlfytxyQYs6u+/0s8fP/V2fYZQGv0owsr72ZgkI+blaY001IadszYb1pjfw/19vgBdp0slk/c4Ywp40ra22idWvuM+m2tWQbXOHdc4g9hr+hC2RUTjOLrPjGyz4tXkLlzneTck4BfKilhVuc3SaMey9LXyy/QkVdIpGJJ3YpogEDeiPZm/dNRN35OvhG0vRanrrWiuzwztmfEL7b8T0Jdw+za8WeBQW/EBHYDhXTxL9QaS3Mmm+vdmFfzknQ86fIjr40FbzT//kGxENkuTpjvqizyHKrT6Po8cR9nYdjRix5aYVPBuDxpXU=
  - secure: QUX9E5Pk3+LIRi9fMm9jzGxgABS8sAVk+pky3Qd6kPDxMOwDfbfLDKMQYBfE2aEnL3TUp28i+7Hkuze2QaU77XAnv31PEeqEkpG7DFiwG9it67jUF45A+Cv4KIvonUE09DlvGf4KAiVvvxVwcbxYijVwMTymhr5s+RNf1y+BBB3Jtaze7BLLNkaXewpkIGV0B5OFYgHYEMgggKYAY7HaWRvDoFf+ywbtpaPEwP5CW9xgr6DPSCDfhR1AajuOqneNThV0otvvMWBIbTm9JwSy/24+uj0Vr+5YSz5pBxlzeiz/XdQtFDwdFteKaKFZoQbF6cXEtWGNa8pdHbDttrwjW+LuFNt2pmmY9yYEB7Zi9gLC/zrK7zSnCnfLGgtF2AFKLei38TS6V6k8ZO+c4q0eFYOLrIvZGgrVojXOzfZh8LhZnCgvT8HU2FIgmMKBpq1rnvYrwc3+vYAmZLhKt1HFoJcBW2lN74NfOVWgTZEVD+RlCy93fLtXntHZb7mHDZhYeMAzyJplkt6smhRt3aaiNiFfUoRurmrA+WAbp6y/LHkTM+934YMGebbdD0wTahSFcIwgwuBbR0RkeDqG/gDKMTVK7N5wofVZmvlL5+vjaknRUmil/MgpBU1v2Tdz40f136HiLxK0/rBat7D+YlLwkJWxGUzmB1Z4WoTTACwoh6I=
  - secure: SgkrrhlVAqajtGYYFRgP9wq7xy3eNu//8J40+eVq3PJt78mUlzBpPHvnLfVdmEqUachbTi5pRqedubp9geNX0NqRl7gNogFZ5Ati9/9AYmEPWLkj3vrszDKfbboqguqNm1UxpmQwAbYhXbFzWrM9Rl5OjmeinvzhKYkrWIIX+0gvMhmZ1TgaVLnjz6Re2iehOL7Rgr/xy2q60ZEEj8aBXdCJ3rnDYQtHF8K2FdXWu6zqGaAG1i6xkYwpy1D/xm9fvfiSuJSYhqNfcpk+qL1LyqXnlqTdOf/xjIycHhZUbRtwBahmAYE0p0FRXh2y6cY9FYmivQxd5Ab4SrDvnMtBt0uLdYna9ZkG1WUSDkY5ofjiXd7StCx3dKMmA/AngCP9odNUcVMu3I4Duumn+PqhgxUFhd4lXVPXTaCJ2a8ChDKU/R1SATWe+hxzQ/JCVtEUEbtf4JeUEHZkqgt0/9HmwPM7JrvuaS/rhkl6bv96+kTkV8hXPk2zm9KPdOXFlQ7ceeN8CUFUAHu20DZEzAGJeMaJ08EtlQy6auTmaPLFS+RAam+78igw14jYYjfcePuCvm533WWOVL82BjvxFE9lW+10EhvlZg2KRj1oZDGMmjqIhMW33ZNxFI9IiyG2W5B37Za5Q6tKW5PkZ6/er9P1r8yE231mxMddAYooaKinKos=
  - secure: aCLkxXQtd2grKac6se02vdNM/LUuh+6HHhAgBuC2ZFy2FS1vE/PXDmU+GvqCzai3adpZYl+H/ZrmXFLb43OOiGWNcwCJaPot7cBau20ELeY9FK3Osax27fagJFHyJxRsitCUisajLQtntjbTO5pYYPEe1P64q0IKaHFiAKC5zkr+wkqdD/3whBbudllg2WIeFH94l93VtaIxhyfx2e7ZLHmA7k7wcAla/5YAScEz7PU1IpMzD3XhbQF3BJr6lOpdrdeYi5cshFi8LvUx0AWMcSSp06Pwvo9Us8Wgc1D1KoFp9MF4puT9WShwx8utRldA4l8zv9KUqJmSXI6+wdTsggVwi0n/OHA3iDNL8cNT1CJ1R0Ti5MrzHvLXDJTKVWcZ/raK38A2oSqtGswK01+/5+MQcVGFcKNXq72LuXuZVTkY8+nYUEnUtmJKmsaC7ydu4YjQD4XCtH1Xf1kDKtEe5EI7zAT1rTFdGBZDPsXN5gt6FNV+fFaXfeYa63KXrMx+8uRnqNbB1qLnx78lqjkwOIihxVwB8UPPp/Ts+ha7hYjVvzGFiNblx73K+vzQNVDNAyjsSURnbFtyv7/oUUAGg1FeNAdtp52JZHVv6uXQi9qiOR8yp3l2wOslpSh13ayxZvG6ywf54tzuLnNiYb5vqfW6wSU+hzXzp2FXfR4MDUk=
