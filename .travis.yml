sudo: required
language: node_js
node_js:
- '0.12'
services:
- docker
script:
- 'echo "Dummy script"

'
after_success:
- export REPO=enmasseproject/ragent
- export TAG=`if [ "$TRAVIS_BRANCH" == "master" ]; then echo "latest"; else echo $TRAVIS_BRANCH
  ; fi`
- docker build -t $REPO:$COMMIT .
- if [ "$TRAVIS_BRANCH" == "master" ] && [ "$TRAVIS_PULL_REQUEST" == "false" ]; then
  docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS; docker tag $REPO:$COMMIT
  $REPO:$TAG; docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER; docker push
  $REPO; TRAVIS_TOKEN=$ACCESS_TOKEN sh .trigger-travis.sh; fi
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: oUmfOBH1PwtdZRydRUIf8nJdcYCg9ZHJRXm4wOqfeoIAlI9lI6AW+lhkUN0hUvSVvVtkuYWbs/JPdOhzUMw1cNhGMqBnphoSIFawiVlzdNHRGSyD6CXcuGiX4vl6zO2lC0Ykw5DGZ4MnQEPWE6y8cvx//JeSty/EsObBCX9uwV8tkY0BvsBOcru2+P9b4XORhAcOQ7VK+VulUHwsMNVKPqAoq7653Ey4GCUsHm0/SOeH4Ux045IqxN6lSQdlpphNUnteiqLVjNo6JvwIXF2UCOALkVO+Q2SYFO881U+gZVbu6wap74ZMrLj8PfCx8IwC0LxHUlu/1/k1PsNIMlf7QCqoAJUFPazhCjmVwFrcXujoMIeOmJUSL2yokhDouVEp4Ul3ZDsDon5k6GKusLIk16gQMb+NP6mrIpIKlrTC1dVuhvdr/fqzo1HZhBynoHCbqnkl119t1FSyGCMLsbsBzOyxqtIWbjlSPPwwfZWDKyITWDfctpXqcbNhLfOsXgNL+fkLvTzMFDm4ltmav7e2IoZmz9y3fwdheVQuyyqDTqxKxz/bhxB/yDSDQ5Xe4gKCojxMuMXvVB89C8lAo1YfM6xlNctHbvmtKtItXo6L/Gdv8Nyh5pyO/8kON/L2Y6CpWEjr6Sw7+R9fW4lwo5NcPzZiz3rpXy3sh2xf4vqLeLs=
  - secure: YXlc4Wzx1imx5D94kfJxTUP4gJ1dHE2Itc0nVB9OwQOPnOdB3tMDqp8ut1anLOfsK7VaRxcmtqv8UOEfb9od4Ss4b4Gm+/ffmZPr+8H/g6V1dyF2JYU6Ol/QFEzPREfrQVNydxZq9V0WvDWKyBZb8nud4VbiIhhezmz+1a1kDwpApFw14xSApJCyD48dfx3G6aMccErxpE3tfOdFU9xeZVtC+pXhkO3A1KEItrXuKT//yNK8f+tt5D72zWLTCi+Kk8Evm0J2xTm7fnn8wMcdbrEa+/1yXcolEKu8XkBgPKuE1+8Oe1c+IweRhvJ+FnrCA90ZGl0LLt/CCHT8lYu9cp5+jT0WhHtCwNKEdhKJAHxqR3hIlgv58BmSsh/PuCJzeztWkJtgxr8nbkiUOe8vmfkPWyAslONyLiwFAo0ec1vvAbVsMvXNwp6Xonc3NlkeC7dcKgqipMZ5rJfLWioEbt+7QC5aP46jtPMYL1Nf3vk/AD4pZajxVI5SEhfP+bEIU+RkaGqsXZuex4PHeu6HSFMsATl/3tJtRDwcct2cvq0FHOIamd/ib3uiB1AW8yNUpQDyDw487fYbPGJX9VzNxRfIzDmkRVi6GUZNfhRrZ6zyKSwFPciYJTEECoyjXnBywTMcswIBWdTWeZfnGwsyZkslCXGqPcWSA5OrNMlNxZs=
  - secure: FJViPx/KKEe0Jxe0SkvE+Eg6vWHQcsdZgqw5TnJaCcOP+8LX84+yzGLDsMNKumYbtVJX7sk/eg0E5A3/LTWYU2NSsiFa6sxF++j/lJX7ALk68KIsxp0zrgfLZfa2U75KOYlvpYs3wieeEZA1jau5giChTmuY3+rH0ZnQuVkO6swZU04UPXaGCSUha2hLYrF08luAH9UODQ1asPEvrxJvgZUhQNAA5DXvUBN9GfciwJt9TZTR3WZR7ocXrEz0xl3JlPa8NLEFFGpZFNkJzpkRCdmaM59HkMwQ3OhahUWHyNe7wVvugW8yk+97u/PnSJ69hYmuiMXwFyz48lLFZ/JD/uvsNfo7ix5pCCzQPNaWIXW7oo+g5YMZNbP4kmW5obmYGAjrKt7N8VA+Lwt+DWADO5feRxyLGGHVcr7tcJIHaFFzrx/mcSzi8OSv6x6GLaC29Zg99MZXAjm3RHHnErDRKrlJei1KgVGxVr5XVwEO5TQR1w6SAm83SC9zj5VOBMHOcB+qnVgwslJixLyJIfTPk7tJXyIV550YXXFLwNPUjB1aqjZuu87uoe1OdHHB3E5d6cL+GyZ4eIxmy9tvAPK2gdHnPi2CwiqzcLYJSzlQX128TpYe/MpFK+rX3ZtgZ8L7CPdvE4jkrjVPbmBk95U/YsqBtFhpxOJvA2PaAfXUDdo=
  - secure: JsMf/Qd5ZoMaJQI0md3gxPIvBA7joPipd1ohsxZRpQWEzrU+aNiunOmG1No1/at3Cug8mP1n6OpbkCIyJj+C0VVCGgMmHV8S4OVxXSJ3rNFZNmf4oKLk/ecJv8po7BVl/p72Tif1SUYkbymHwDbAdNAAIpRR8hp1Iu8UEqp+PT1FfvJZkQHFRKKmzuNzjNl+7A1hbaqp5BBNq01IWqQBmF011vO3QrfPi8a+aerlcGGQ7OcB4vHMofKh8Y+UkdAgbatF3IR8bijhgxQQ0l0jxa6H5vQ63l4tM7F9nT1p4ZBjhsRkxrJ0XZwc951GKG5cLqpbfkzk0juoIgmcZrDbnfITzFYOXz/4jGgBcMoOXkbFIKIHmaZP3dPZNcukQA2bNBfhrS4Z6NFipxZQcRRrxRGxD3hZsD/k/MX5S4AX24itZWTx4Zh43RjyJnIEqdkgUb6wxpFUj/rS6xurrZK9Oq6hMEVh8AvoOCgpUuAh+W9HwOXwHQgGPAXe9vp8hk6KyxA7QASmK7K9/IFQtjEjaZKoJyhTYmx0Z1gKSaG/F1o5q3aMHw6JaXBdf7mXSRO13KL7tcaShq3iXBQgM9aYXpwyxSXXgPrzXAQPye91pblYgRV+xF05wRCn/MnKsdKMeLCEQ5prIgwrkmZeWpFBpcsII2d+DpZ2GQ+KVEzzqlI=
